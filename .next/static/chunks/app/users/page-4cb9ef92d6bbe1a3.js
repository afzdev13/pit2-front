(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{1025:function(e,s,l){Promise.resolve().then(l.bind(l,6002))},7626:function(e,s,l){"use strict";l.d(s,{z:function(){return t}});var r=l(7437);let t=e=>{let{action:s,text:l,secundary:t}=e;return(0,r.jsx)("div",{className:"bg-".concat(t?"red-600":"cyan-500"," flex rounded py-4 px-8 cursor-pointer items-center justify-center text-center"),onClick:s,children:l})}},7085:function(e,s,l){"use strict";l.d(s,{Z:function(){return t}});var r=l(7437);let t=e=>{let{children:s,className:l,style:t}=e;return(0,r.jsx)("div",{className:"bg-teal-50 rounded py-16 px-12 items-center justify-between ".concat(l),style:t,children:s})}},8309:function(e,s,l){"use strict";l.r(s),l.d(s,{UserIcon:function(){return o}});var r=l(7437),t=l(3946),n=l(7626),a=l(1396),c=l.n(a);let i=()=>{var e,s;let{user:l}=(0,t.a)();return(0,r.jsxs)("div",{className:"flex flex-row gap-20",children:[(null==l?void 0:null===(s=l.userRole)||void 0===s?void 0:null===(e=s.Role)||void 0===e?void 0:e.name)==="ADMIN"&&(0,r.jsx)(n.z,{text:(0,r.jsx)(c(),{href:"/users",children:"Usuarios"})}),(0,r.jsx)(n.z,{text:(0,r.jsx)(c(),{href:"/items",children:"Items"})}),(0,r.jsx)(n.z,{text:(0,r.jsx)(c(),{href:"/orders",children:"Pedidos"})})]})},o=()=>{var e,s;let{user:l}=(0,t.a)();return(0,r.jsxs)("div",{className:"flex flex-row gap-20",children:[["ADMIN","EMPLOYE"].includes((null==l?void 0:null===(s=l.userRole)||void 0===s?void 0:null===(e=s.Role)||void 0===e?void 0:e.name)||"")&&(0,r.jsx)(i,{}),(0,r.jsxs)("div",{children:[l?(0,r.jsxs)("h1",{className:"text-white",children:["Bem vindo ",l.name]}):null,(0,r.jsx)(n.z,{text:(0,r.jsx)(c(),{href:"/login",children:l?"Sair":"Entrar"})})]})]})}},3946:function(e,s,l){"use strict";l.d(s,{a:function(){return c}});var r=l(3890),t=l(7665);let n=(0,t.cn)(void 0),a=(0,t.cn)(e=>e(n),(e,s,l)=>s(n,l)),c=()=>{let[e,s]=(0,r.KO)(a);return{user:e,setUser:s}}},7131:function(e,s,l){"use strict";l.d(s,{h:function(){return t}});var r=l(2173);let t=r.Z.create({baseURL:"http://18.224.94.36:3000"});t.interceptors.request.use(async e=>e)},6002:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return u}});var r=l(7437),t=l(2265),n=l(8309),a=l(7626),c=l(7085),i=l(7131);let o=e=>{let{goBack:s}=e,[l,n]=(0,t.useState)(""),[o,u]=(0,t.useState)(""),[d,x]=(0,t.useState)(""),[f,h]=(0,t.useState)(""),[j,v]=(0,t.useState)(""),[m,p]=(0,t.useState)([]),g=async()=>{try{let{data:e}=await i.h.get("/role");p(e)}catch(e){console.log({err:e})}},N=async()=>{try{let{data:e}=await i.h.post("/users",{name:l,email:d,password:o,address:f});await i.h.post("/user-role",{userId:e,roleId:j}),alert("Usuario criado com sucesso"),s()}catch(e){console.log({err:e})}};return(0,t.useEffect)(()=>{g()},[]),(0,r.jsxs)(c.Z,{className:"flex flex-col w-full gap-8 text-black",children:[(0,r.jsx)("p",{children:"Criar usu\xe1rio"}),(0,r.jsxs)("div",{className:"flex flex-col w-full",children:[(0,r.jsx)("p",{children:"Nome:"}),(0,r.jsx)("input",{value:l,className:"border-color-black border-2",onChange:e=>n(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex flex-col w-full",children:[(0,r.jsx)("p",{children:"Email:"}),(0,r.jsx)("input",{type:"email",value:d,className:"border-color-black border-2",onChange:e=>x(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex flex-col w-full",children:[(0,r.jsx)("p",{children:"Endereco:"}),(0,r.jsx)("input",{value:f,className:"border-color-black border-2",onChange:e=>h(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex flex-col w-full",children:[(0,r.jsx)("p",{children:"Password:"}),(0,r.jsx)("input",{type:"password",value:o,className:"border-color-black border-2",onChange:e=>u(e.target.value)})]}),(0,r.jsxs)("div",{className:"flex flex-col w-full",children:[(0,r.jsx)("p",{children:"Tipo de usuario:"}),(0,r.jsx)("select",{onChange:e=>v(e.target.value),children:m.map((e,s)=>(0,r.jsx)("option",{value:e.id,children:e.name},"createUserRole".concat(s)))})]}),(0,r.jsx)(a.z,{text:"Salvar",action:()=>N()})]})};function u(){let[e,s]=(0,t.useState)(!1),[l,u]=(0,t.useState)([]),d=async()=>{try{let{data:e}=await i.h.get("/users");u(e)}catch(e){console.log({err:e})}};return(0,t.useEffect)(()=>{d()},[]),(0,r.jsxs)("main",{className:"flex min-h-screen flex-col items-center gap-8 p-24 ",children:[(0,r.jsxs)("div",{className:"w-full flex row justify-between",children:[(0,r.jsx)("h1",{children:"Restaurante PIT2"}),(0,r.jsx)(n.UserIcon,{})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[e?(0,r.jsx)(o,{goBack:()=>s(!1)}):(0,r.jsx)(a.z,{text:"Criar usu\xe1rio",action:()=>s(!0)}),(0,r.jsx)("div",{className:"flex flex-col gap-4 text-black",children:l.map((e,s)=>(0,r.jsxs)(c.Z,{children:[(0,r.jsxs)("p",{children:["Nome: ",e.name]}),(0,r.jsxs)("p",{children:["Email: ",e.email]}),(0,r.jsxs)("p",{children:["Endereco: ",e.address]}),(0,r.jsxs)("p",{children:["Cargo: ",e.userRole.Role.name]})]},"users".concat(s)))})]})]})}}},function(e){e.O(0,[580,180,971,472,744],function(){return e(e.s=1025)}),_N_E=e.O()}]);