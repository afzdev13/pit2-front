(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{953:function(e,t,r){Promise.resolve().then(r.bind(r,3188)),Promise.resolve().then(r.bind(r,4637)),Promise.resolve().then(r.bind(r,8309))},7626:function(e,t,r){"use strict";r.d(t,{z:function(){return s}});var n=r(7437);let s=e=>{let{action:t,text:r,secundary:s}=e;return(0,n.jsx)("div",{className:"bg-".concat(s?"red-600":"cyan-500"," flex rounded py-4 px-8 cursor-pointer items-center justify-center text-center"),onClick:t,children:r})}},7085:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(7437);let s=e=>{let{children:t,className:r,style:s}=e;return(0,n.jsx)("div",{className:"bg-teal-50 rounded py-16 px-12 items-center justify-between ".concat(r),style:s,children:t})}},3188:function(e,t,r){"use strict";r.r(t),r.d(t,{CartIcon:function(){return m}});var n=r(7437),s=r(2265),l=r(6211),i=r(4275),o=r.n(i);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var a=(0,s.forwardRef)(function(e,t){var r=e.color,n=e.size,l=void 0===n?24:n,i=function(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,["color","size"]);return s.createElement("svg",c({ref:t,xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),s.createElement("circle",{cx:"9",cy:"21",r:"1"}),s.createElement("circle",{cx:"20",cy:"21",r:"1"}),s.createElement("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"}))});a.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},a.displayName="ShoppingCart";let u=e=>{let{action:t}=e,{Cart:r}=(0,l.j)();return(0,n.jsxs)("div",{className:"h-16 w-16 bg-cyan-500 cursor-pointer rounded-full flex justify-center items-center zIndex-2 fixed bottom-20 right-20",onClick:t,children:[(0,n.jsx)(a,{}),r.length?(0,n.jsx)("div",{className:"fixed bottom-24 right-20 rounded-full bg-red-600 text-stone-50",children:(0,n.jsx)("h1",{children:r.length})}):null]})};var d=r(7085),f=r(7626),x=r(7131),h=r(3946);let p=e=>{let{action:t}=e,[r,i]=(0,s.useState)([]),[o,c]=(0,s.useState)(""),a=async()=>{try{let{data:e}=await x.h.get("/payment-methods");i(e)}catch(e){console.log({err:e})}},{Cart:u,setCart:p}=(0,l.j)(),{user:m}=(0,h.a)();(0,s.useEffect)(()=>{a()},[]);let j=async()=>{try{let{data:e}=await x.h.post("/order",{userId:null==m?void 0:m.id});for(let t=0;t<u.length;t++)await x.h.post("/order-items",{itemId:u[t].id,orderId:e});await x.h.post("/order-payment-methods",{paymentMethodId:o,orderId:e}),alert("Pedido realizado com sucesso")}catch(e){console.log({err:e})}};return(0,n.jsxs)("div",{className:"h-[30rem] w-[20rem] rounded bg-cyan-500 p-10 overflow-scroll flex flex-col gap-4 text-stone-800 zIndex-2 fixed bottom-20 right-20",children:[(0,n.jsx)(f.z,{text:"Fechar",action:t,secundary:!0}),u.map((e,t)=>(0,n.jsxs)(d.Z,{className:"flex flex-col justify-between px-2 gap-4 w-full",children:[(0,n.jsxs)("div",{className:"flex flex-row justify-between w-full",children:[(0,n.jsx)("p",{children:e.name}),(0,n.jsxs)("p",{children:["Valor: ",e.value]})]}),(0,n.jsx)(f.z,{text:"Remover",action:()=>{let e=[...u];e.splice(t,1),p(e)}})]},"CartOpen".concat(t))),(0,n.jsxs)("div",{className:"flex flex-row w-full justify-between",children:[(0,n.jsx)("h1",{children:"Quantidade total:"}),(0,n.jsx)("h1",{children:u.length})]}),(0,n.jsxs)("div",{className:"flex flex-row w-full justify-between",children:[(0,n.jsx)("h1",{children:"Valor total:"}),(0,n.jsx)("h1",{children:u.reduce((e,t)=>parseFloat(e.toString())+parseFloat(t.value.toString()),0).toFixed(2)})]}),(0,n.jsxs)("div",{className:"flex flex-row w-full justify-between",children:[(0,n.jsx)("h1",{children:"Selecione o m\xe9todo de pagamento:"}),(0,n.jsx)("select",{onChange:e=>c(e.target.value),children:r.map((e,t)=>(0,n.jsx)("option",{value:e.id,children:e.name},"CArtOpenPayments".concat(t)))})]}),(0,n.jsx)(f.z,{text:"Finalizar compra",secundary:!0,action:j})]})},m=()=>{let[e,t]=(0,s.useState)(!1);return(0,n.jsx)(n.Fragment,{children:e?(0,n.jsx)(p,{action:()=>t(!1)}):(0,n.jsx)(u,{action:()=>t(!0)})})}},4637:function(e,t,r){"use strict";r.r(t),r.d(t,{ItemsArea:function(){return a}});var n=r(7437),s=r(7131),l=r(2265),i=r(7085),o=r(7626),c=r(6211);let a=()=>{let[e,t]=(0,l.useState)([]),{setCart:r,Cart:a}=(0,c.j)(),u=async()=>{try{let{data:e}=await s.h.get("/items");t(e)}catch(e){console.log({err:e})}};return(0,l.useEffect)(()=>{u()},[]),(0,n.jsx)("div",{className:"flex flex-wrap gap-40 flex-row",children:e.map((e,t)=>(0,n.jsxs)(i.Z,{className:"text-zinc-950 flex flex-1 flex-col gap-4",children:[(0,n.jsx)("h2",{children:e.name}),(0,n.jsx)("p",{children:e.description}),(0,n.jsxs)("p",{children:["R$",e.value]}),(0,n.jsx)(o.z,{text:a.map(e=>e.id).includes(e.id)?"Adicionar mais um":"Comprar",action:()=>r([...a,e])})]},"ItemsAreaitems".concat(t)))})}},8309:function(e,t,r){"use strict";r.r(t),r.d(t,{UserIcon:function(){return a}});var n=r(7437),s=r(3946),l=r(7626),i=r(1396),o=r.n(i);let c=()=>{var e,t;let{user:r}=(0,s.a)();return(0,n.jsxs)("div",{className:"flex flex-row gap-20",children:[(null==r?void 0:null===(t=r.userRole)||void 0===t?void 0:null===(e=t.Role)||void 0===e?void 0:e.name)==="ADMIN"&&(0,n.jsx)(l.z,{text:(0,n.jsx)(o(),{href:"/users",children:"Usuarios"})}),(0,n.jsx)(l.z,{text:(0,n.jsx)(o(),{href:"/items",children:"Items"})}),(0,n.jsx)(l.z,{text:(0,n.jsx)(o(),{href:"/orders",children:"Pedidos"})})]})},a=()=>{var e,t;let{user:r}=(0,s.a)();return(0,n.jsxs)("div",{className:"flex flex-row gap-20",children:[["ADMIN","EMPLOYE"].includes((null==r?void 0:null===(t=r.userRole)||void 0===t?void 0:null===(e=t.Role)||void 0===e?void 0:e.name)||"")&&(0,n.jsx)(c,{}),(0,n.jsxs)("div",{children:[r?(0,n.jsxs)("h1",{className:"text-white",children:["Bem vindo ",r.name]}):null,(0,n.jsx)(l.z,{text:(0,n.jsx)(o(),{href:"/login",children:r?"Sair":"Entrar"})})]})]})}},6211:function(e,t,r){"use strict";r.d(t,{j:function(){return o}});var n=r(3890),s=r(7665);let l=(0,s.cn)([]),i=(0,s.cn)(e=>e(l),(e,t,r)=>t(l,r)),o=()=>{let[e,t]=(0,n.KO)(i);return{Cart:e,setCart:t}}},3946:function(e,t,r){"use strict";r.d(t,{a:function(){return o}});var n=r(3890),s=r(7665);let l=(0,s.cn)(void 0),i=(0,s.cn)(e=>e(l),(e,t,r)=>t(l,r)),o=()=>{let[e,t]=(0,n.KO)(i);return{user:e,setUser:t}}},7131:function(e,t,r){"use strict";r.d(t,{h:function(){return s}});var n=r(2173);let s=n.Z.create({baseURL:"http://18.224.94.36:3000"});s.interceptors.request.use(async e=>e)},3018:function(e,t,r){"use strict";var n=r(1289);function s(){}function l(){}l.resetWarningCache=s,e.exports=function(){function e(e,t,r,s,l,i){if(i!==n){var o=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:s};return r.PropTypes=r,r}},4275:function(e,t,r){e.exports=r(3018)()},1289:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},function(e){e.O(0,[580,180,971,472,744],function(){return e(e.s=953)}),_N_E=e.O()}]);